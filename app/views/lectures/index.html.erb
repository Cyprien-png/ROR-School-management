<p style="color: green"><%= notice %></p>

<% content_for :title, "Lectures" %>

<h1>Lectures</h1>

<div id="lectures">
  <table>
    <thead>
      <tr>
        <th>Subject</th>
        <th>Week day</th>
        <th>Start time</th>
        <th>End time</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <% @lectures.each do |lecture| %>
        <tr>
          <td><%= lecture.subject.name %></td>
          <td><%= lecture.week_day.capitalize %></td>
          <td><%= lecture.start_time.strftime("%H:%M") %></td>
          <td><%= lecture.end_time.strftime("%H:%M") %></td>
          <td>
            <%= link_to "Show", lecture_path(lecture), class: "button-small" %>
            <% if current_person.is_a?(Dean) %>
              <%= link_to "Edit", edit_lecture_path(lecture), class: "button-small" %>
              <%= button_to "Delete", lecture_path(lecture), 
                  method: :delete, 
                  class: "button-small button-danger",
                  form: { style: "display: inline-block" },
                  data: { turbo_confirm: "Are you sure you want to delete this lecture?" } %>
            <% end %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<% if current_person.is_a?(Dean) %>
  <div class="actions mt-4">
    <%= link_to "New lecture", new_lecture_path, class: "button" %>
  </div>
<% end %>
